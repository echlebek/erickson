// AUTOMATICALLY GENERATED FILE. DO NOT EDIT.

package assets

var app = js(asset.init(asset{Name: "app.js", Content: "" +
	"function createReview() {\n  $(\"#create-review\").removeClass(\"hidden\");\n  $(\"#cancel-button\").removeClass(\"hidden\");\n}\n\nfunction cancelReview() {\n  $(\"#create-review\").addClass(\"hidden\");\n  $(\"#cancel-button\").addClass(\"hidden\");\n}\n\nfunction toggleShowAll() {\n  if ($(\"#show-all\").is(\":checked\")) {\n    $(\"tr\").show();\n  } else {\n    $(\"td > span\").filter(function () {\n      return $(this).text() !== \"Open\";\n    }).parent().parent().hide();\n  }\n}\n\nfunction publishAnnotations() {\n  $.ajax({\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    url: window.location + \"/annotations\",\n    type: \"PATCH\",\n    data: \"\",\n    complete: function () {\n      window.location.reload();\n    }\n  });\n}\n\nfunction pasteFile(file) {\n  var reader = new FileReader();\n  reader.onload = function(e) {\n    $(\"#diff\").text(e.target.result);\n  }\n  reader.readAsText(file);\n  $(\"#diffcheckmark\").show();\n}\n\nwindow.onload = function() {\n  // Show only the selected reviews\n  toggleShowAll();\n\n  $(document).on(\"click\", \".lineno-lhs\", function () {\n    showAnnotate(this);\n  });\n\n  $(document).on(\"click\", \".lineno-rhs\", function () {\n    showAnnotate(this);\n  });\n\n  $(\"#show-menu\").change(function () {\n    if (this.checked) {\n      $(\"#menu\").show();\n    } else {\n      $(\"#menu\").hide(); \n    }\n  });\n}\n\nfunction showAnnotate(span) {\n  cancelAnnotate(); // If another annotate dialog is visible, remove it\n\n  // Add the annotate form after the selected row\n  var form = $(\".annotate-form\");\n  form.show();\n  var div = $(span).parent();\n  div.after(form);\n  form.wrap('<div></div>');\n\n  // Put some descriptive information into the annotate form\n  var spans = $(span).parent().children(\"span\");\n  var lineTd = $(spans[2]);\n  var diffTd = $(spans[3]);\n  var diffText = diffTd.find(\"code\").text();\n  var lineText = lineTd.find(\"code\").text();\n  form.find(\".line-text\").text(lineText + \": \" + diffText);\n\n  // Stash some data in the comment element for submitting to the server\n  var idParts = div.attr(\"id\").split(\"-\");\n  $(\"#file\").val(Number(idParts[1]));\n  $(\"#hunk\").val(Number(idParts[2]));\n  $(\"#line\").val(Number(idParts[3]));\n}\n\nfunction cancelAnnotate() {\n  $(\".annotate-form\").hide();\n}\n\nfunction keyEvent(event) {\n  // 44.4444 is roughly the amount chrome scrolls with one down-arrow key\n  // press on my macbook pro.\n  var chr = event.char;\n  if (!chr) { // web browsers...\n    chr = event.keyCode == 106 ? \"j\" : (event.keyCode == 107 ? \"k\" : null);\n  }\n  if (chr == \"j\") {\n    window.scrollTo(0, window.scrollY + 44.4444);\n  } else if (chr == \"k\") {\n    window.scrollTo(0, window.scrollY - 44.4444);\n  }\n}\n" +
	""}))
